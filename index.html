<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>AI Adaptive Maths Exam</title><style>body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background-color:#f4f7f9;color:#333;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;margin:0;padding:20px;box-sizing:border-box;}
        .app-container{background-color:white;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.08);width:800px;max-width:100%;padding:30px;}
        h1{color:#2c3e50;text-align:center;margin-bottom:25px;}
        .stats-container{background-color:#ecf0f1;border-radius:8px;padding:20px;margin-bottom:30px;text-align:center;}
        #stats-display{padding:15px;background:#fff;border-radius:5px;margin-bottom:15px;min-height:40px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:15px;}
        .topic-stat{background:#bdc3c7;color:#2c3e50;padding:5px 12px;border-radius:15px;font-size:0.9em;font-weight:500;}
        #generate-exam-btn{background-color:#3498db;color:white;border:none;border-radius:5px;padding:12px 20px;cursor:pointer;font-size:1em;transition:background-color .2s;}
        #generate-exam-btn:hover{background-color:#2980b9;}
        #ai-status{margin-top:15px;font-style:italic;color:#2980b9;min-height:20px;}
        #quiz-container{padding-top:20px;border-top:1px solid #eee;}
        .btn-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:10px;margin:20px 0;}
        .btn{background-color:#95a5a6;border:none;border-radius:5px;padding:15px;color:white;cursor:pointer;font-size:1em;transition:all .2s;}
        .btn:hover:not(:disabled){background-color:#7f8c8d;}
        .btn.correct{background-color:#2ecc71;}
        .btn.incorrect{background-color:#e74c3c;}
        .btn:disabled{cursor:not-allowed;opacity:.7;}
        #feedback{min-height:25px;margin-top:15px;font-weight:700;font-size:1.1em;}
        .hide{display:none;}</style></head><body><div class="app-container"><h1>AI Adaptive Maths Exam</h1><div class="stats-container"><h2>Your Performance Profile</h2><div id="stats-display">Take an exam to build your profile.</div><button id="generate-exam-btn">Generate New Exam</button><div id="ai-status"></div></div><div id="quiz-container" class="hide"><h2 id="topic-title"></h2><p id="question"></p><div id="answer-buttons" class="btn-grid"></div><div id="feedback"></div><button id="next-btn" class="next-btn btn hide">Next Question</button></div></div><script>const statsDisplay=document.getElementById("stats-display"),generateExamBtn=document.getElementById("generate-exam-btn"),aiStatus=document.getElementById("ai-status"),quizContainer=document.getElementById("quiz-container"),topicTitleElement=document.getElementById("topic-title"),questionElement=document.getElementById("question"),answerButtonsElement=document.getElementById("answer-buttons"),feedbackElement=document.getElementById("feedback"),nextButton=document.getElementById("next-btn"),masterQuestionBank=[{topic:"Algebra",question:"Solve the equation: 3x + 7 = 19",answers:[{text:"x = 4",correct:!0},{text:"x = 3",correct:!1},{text:"x = 8.67",correct:!1},{text:"x = 6",correct:!1}]},{topic:"Algebra",question:"Expand (x - 4)(x + 4)",answers:[{text:"x² - 16",correct:!0},{text:"x² + 8x - 16",correct:!1},{text:"x² - 8x + 16",correct:!1},{text:"2x - 8",correct:!1}]},{topic:"Geometry",question:"A triangle has a base of 10cm and a height of 5cm. What is its area?",answers:[{text:"25cm²",correct:!0},{text:"50cm²",correct:!1},{text:"15cm²",correct:!1},{text:"20cm²",correct:!1}]},{topic:"Geometry",question:"What is the name for a polygon with 8 sides?",answers:[{text:"Octagon",correct:!0},{text:"Hexagon",correct:!1},{text:"Decagon",correct:!1},{text:"Heptagon",correct:!1}]},{topic:"Ratio",question:"A recipe needs flour and sugar in the ratio 5:2. If you use 250g of flour, how much sugar is needed?",answers:[{text:"100g",correct:!0},{text:"50g",correct:!1},{text:"125g",correct:!1},{text:"250g",correct:!1}]},{topic:"Ratio",question:"Increase £80 by 15%",answers:[{text:"£92",correct:!0},{text:"£12",correct:!1},{text:"£95",correct:!1},{text:"£81.50",correct:!1}]},{topic:"Probability",question:"You roll a fair 6-sided die. What is the probability of rolling an even number?",answers:[{text:"1/2",correct:!0},{text:"1/3",correct:!1},{text:"1/6",correct:!1},{text:"2/3",correct:!1}]},{topic:"Probability",question:"There are 10 socks in a drawer, 6 are black and 4 are white. What is the probability of picking a white sock?",answers:[{text:"4/10 or 2/5",correct:!0},{text:"1/4",correct:!1},{text:"6/10",correct:!1},{text:"1/2",correct:!1}]}];let currentExam=[],currentQuestionIndex=0;const USER_DATA_KEY="mathsPerformanceData";function getPerformanceStats(){return JSON.parse(localStorage.getItem(USER_DATA_KEY))||{}}function updatePerformanceStats(e,t){const s=getPerformanceStats();s[e]||(s[e]={correct:0,total:0}),t&&s[e].correct++,s[e].total++,localStorage.setItem(USER_DATA_KEY,JSON.stringify(s)),displayStats()}function displayStats(){const e=getPerformanceStats();if(statsDisplay.innerHTML="",""==Object.keys(e))return void(statsDisplay.textContent="Take an exam to build your performance profile!");for(const t in e){const{correct:s,total:o}=e[t],n=0<o?(s/o*100).toFixed(0):0,a=document.createElement("div");a.className="topic-stat",a.textContent=`${t}: ${n}% Accuracy (${s}/${o})`,statsDisplay.appendChild(a)}}function generateExamWithAI(){return aiStatus.textContent="AI is analyzing your profile...",new Promise(e=>{setTimeout(()=>{const t=getPerformanceStats();let s=null,o=101;for(const e in t){const{correct:n,total:a}=t[e],c=0<a?n/a*100:100;c<o&&(o=c,s=e)}const n=5;let a=[];let c=[...masterQuestionBank];s&&o<75?(a.push(...c.filter(e=>e.topic===s).slice(0,3)),aiStatus.textContent=`Generated an exam focusing on your weakness: ${s}.`):aiStatus.textContent="Generated a general review exam.";let r=c.filter(e=>!a.includes(e));for(;a.length<n&&0<r.length;){const e=Math.floor(Math.random()*r.length);a.push(r.splice(e,1)[0])}a.sort(()=>.5-Math.random()),e(a)},1e3)})}function startExam(e){currentExam=e,currentQuestionIndex=0,quizContainer.classList.remove("hide"),showQuestion()}function showQuestion(){resetState();const e=currentExam[currentQuestionIndex];topicTitleElement.textContent=`Topic: ${e.topic}`,questionElement.textContent=e.question,e.answers.forEach(e=>{const t=document.createElement("button");t.innerText=e.text,t.classList.add("btn"),e.correct&&(t.dataset.correct=!0),t.addEventListener("click",selectAnswer),answerButtonsElement.appendChild(t)})}function resetState(){for(feedbackElement.textContent="",nextButton.classList.add("hide");answerButtonsElement.firstChild;)answerButtonsElement.removeChild(answerButtonsElement.firstChild)}function selectAnswer(e){const t=e.target,s=t.dataset.correct,o=currentExam[currentQuestionIndex].topic;updatePerformanceStats(o,s),feedbackElement.textContent=s?"Correct!":"Incorrect!",feedbackElement.style.color=s?"#2ecc71":"#e74c3c",Array.from(answerButtonsElement.children).forEach(e=>{e.disabled=!0,e.dataset.correct&&e.classList.add("correct")}),nextButton.classList.remove("hide")}generateExamBtn.addEventListener("click",()=>{generateExamBtn.disabled=!0,generateExamWithAI().then(e=>{startExam(e),generateExamBtn.disabled=!1})}),nextButton.addEventListener("click",()=>{currentQuestionIndex++,currentQuestionIndex<currentExam.length?showQuestion():(quizContainer.classList.add("hide"),aiStatus.textContent="Exam complete! Your profile has been updated.")}),displayStats();</script></body></html>
